{% extends 'base.html' %}
{% block content %}
<nav class="navbar bg-light ">
  <div class="container-fluid justify-content-center">
    <a class="navbar-brand" href="#">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-all"
        viewBox="0 0 16 16">
        <path
          d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z" />
      </svg>
      할일을 하긴 할껴?
    </a>
  </div>
</nav>
<form action="{% url 'todos:create' %}">
  <div class="input-group mb-3">
    <span class="input-group-text" id="inputGroup-sizing-default">할 일</span>
    <input type="text" name="content" class="form-control" aria-label="Sizing example input"
      aria-describedby="inputGroup-sizing-default" maxlength="80">
  </div>
  <!-- 할 일<input type="text" name="content" maxlength="80"> -->
  <!-- 우선순위<input type="num" name="priority" value="1"> -->
  <div class="input-group mb-3">
    <label class="input-group-text" for="inputGroupSelect01">우선순위</label>
    <select class="form-select" name="priority" id="">
      <option selected>골라골라</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select>
  </div>
  <div class="input-group mb-3">
    <span class="input-group-text" id="inputGroup-sizing-default">마감 기한</span>
    <input type="date" name="deadline" class="form-control" aria-label="Sizing example input"
      aria-describedby="inputGroup-sizing-default">
  </div>
  <!-- <input type="date" name="deadline"> -->
  <!-- <input type="submit" value="할 일 추가"> -->
  <div class="d-grid gap-2">
    <input class="btn btn-secondary" type="submit" value="할 일 추가">
  </div>
</form>
<hr>
<table class="table">
  <thead>
    <tr>
      <th scope="col">우선순위</th>
      <th scope="col">할 일</th>
      <th scope="col">생성날짜</th>
      <th scope="col">마감기한</th>
      <th scope="col">진행상태</th>
      <th scope="col">상태 변경</th>
      <th scope="col">삭제</th>
    </tr>
  </thead>
  {%for todo in todos%}
  <tr>
    <th scope="row">{{todo.priority}}</th>
    <td><a href="{% url 'todos:detail' todo.pk %}">{{todo.content}}</a> </td>
    <td>{{todo.created_at}}</td>
    <td>{{todo.deadline}}</td>
    {% if todo.completed == False %}
    <td class="align-middle"> 미완료</td>
    {% else %}
    <td class="align-middle text-success fw-bolder h5">완료</td>
    {% endif %}
    <td><a class="btn btn-outline-success" href="{% url 'todos:edit' todo.pk %}">변경</a></td>
    <td><a class="btn btn-outline-danger" href="{% url 'todos:delete' todo.pk %}">삭제</a></td>
  </tr>
  {%endfor%}
  </tbody>
</table>
{% endblock %}